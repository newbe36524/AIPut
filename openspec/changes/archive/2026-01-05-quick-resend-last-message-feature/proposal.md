# Change: 快速重发上一条

## Why

当前移动端 Web 界面在以下场景下用户体验不佳：
1. 网络临时故障导致发送失败后，需要重新输入或手动从历史记录复制粘贴
2. 用户需要多次发送相同或相似文本时，必须重新输入或从侧边栏历史记录中查找
3. 发生误操作后需要重新输入完整内容

添加快速重发功能可以让用户一键重发上次发送的内容，减少重复操作负担。

## What Changes

- **新增 UI 组件**：在文本输入框上方添加快速重发区域
  - 历史内容预览区（显示最近一次发送的文本，超出部分省略）
  - 重发按钮（点击后立即重发上次内容）
- **状态管理**：维护 `lastSentContent` 状态
  - 每次调用发送 API 后更新（无论成功与否）
  - 从 localStorage 读取上次发送的内容
- **持久化**：使用 localStorage 存储最后一次发送的内容

## Impact

### Affected specs
- `specs/mobile-ui/spec.md` - 新增快速重发功能需求

### Affected code
- `site/index.html` - 添加重发区域的 HTML 结构
- `site/app.js` - 添加状态管理和重发逻辑
- `site/style.css` - 添加重发区域的样式定义

### User impact
- 改进发送失败后的恢复速度
- 支持快速重复发送相同内容的场景
- 降低用户操作负担

### Technical impact
- 纯前端功能实现，无需修改后端代码
- 向下兼容，不影响现有功能
- 代码量小，实现简单直接
