## ADDED Requirements

### Requirement: 快速重发上一条

移动端界面 SHALL 在文本输入框上方提供快速重发区域，允许用户一键重发上次发送的内容。

#### Scenario: 显示重发区域

- **WHEN** 用户在会话中已发送过至少一条消息
- **THEN** 在文本输入框上方显示重发区域
- **AND** 重发区域包含：
  - 历史内容预览（最多显示一行，超出部分使用省略号）
  - 重发按钮（使用与主发送按钮相同的样式）

#### Scenario: 隐藏重发区域

- **WHEN** 用户尚未发送过任何消息（包括页面首次加载且 localStorage 无历史记录）
- **THEN** 重发区域保持隐藏状态

#### Scenario: 重发成功

- **WHEN** 用户点击重发按钮
- **AND** 上次发送的内容存在
- **THEN** 立即调用发送函数发送上次的内容
- **AND** 更新历史记录
- **AND** 发送成功后清空输入框并更新重发区域

#### Scenario: 重发失败

- **WHEN** 用户点击重发按钮
- **AND** 发送失败（网络错误或服务器错误）
- **THEN** 显示错误提示
- **AND** 重发区域继续显示，用户可以再次重试

#### Scenario: 持久化历史内容

- **WHEN** 用户发送消息后（无论成功与否）
- **THEN** 将发送的内容保存到 localStorage 的 `lastSentContent` 字段
- **AND** 页面重新加载时从 localStorage 读取并显示重发区域

#### Scenario: 发送新消息后更新

- **WHEN** 用户发送新消息
- **THEN** 更新 `lastSentContent` 为新发送的内容
- **AND** 重发区域的内容预览同步更新
